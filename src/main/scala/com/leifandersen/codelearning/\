package com.leifandersen.dwlearning

class DWSampleDatabase {
  var samples = Map[Int, List[String]]()

  def extend(id: Int, line: String) {
    if(samples.contains(id)) {
      samples += (id -> (samples(id) ++ List(line)))
    } else {
      samples += (id -> List(line))
    }
  }

  def extendList(id: Int, line: List[String]) {
    if(samples.contains(id)) {
      samples += (id -> (samples(id) ++ line))
    } else {
      samples += (id -> line)
    }
  }

  def lookup(id: Int): List[String] = {
    return samples(id)
  }

  def extendRaw(rawLine: String) {
    var words = rawLine.split(":")
    var databaseNumber = if(words(0) == "Learning") words(1) else words(0)
    var line = if(words(0) == "Learning") words(2) else words(1)
    extend(databaseNumber.toInt, line)
  }

  def extendRawList(lines: List[String]) {
    for(s <- lines) {
      extendRaw(s)
    }
  }
}

object DWSampleDatabase {
  def apply() = new DWSampleDatabase()
}
